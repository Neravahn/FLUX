<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FLUX - Engine</title>

  <!-- Chart.js + Zoom Plugin -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1"></script>

  <!--LINK CSS-->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/flux.css') }}">
</head>

<body>
  <div id="main-container">
    <!-- === CHART SECTION === -->
    <div id="chart-section">
      <canvas id="engine-canvas"></canvas>
      <div id="chart-controls">
        <button id="resetZoom">RESET ZOOM</button>
        <button id="downloadChart">DOWNLOAD</button>
        <button id="toggleGrid">TOGGLE GRID</button>
      </div>
    </div>

    <!-- === FORM CONTAINER (scrollable) === -->
    <div id="form-container">
      <!-- === FLUX ENGINE FORM === -->
      <form id="flux-panel">
        <h2>FLUX ENGINE</h2>

        <div class="form-group">
          <label for="ticker">Select Stock</label>
          <select id="ticker" name="ticker" required>
            <option value="">Select a stock...</option>
            <option value="AAPL">Apple (AAPL)</option>
            <option value="GOOGL">Alphabet (GOOGL)</option>
            <option value="MSFT">Microsoft (MSFT)</option>
            <option value="TSLA">Tesla (TSLA)</option>
            <option value="AMZN">Amazon (AMZN)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="interval">Select Interval</label>
          <select id="interval" name="interval" required>
            <option value="">Select interval</option>
            <option value="1d">1 day</option>
            <option value="1h">1 hour</option>
            <option value="15m">15 minutes</option>
            <option value="5m">5 minutes</option>
            <option value="2m">2 minutes</option>
            <option value="1m">1 minute</option>
            <option value="1wk">1 week</option>
            <option value="1mo">1 month</option>
          </select>
        </div>

        <div class="form-group">
          <label for="moving_average">Select Moving Average Type</label>
          <select id="moving_average" name="moving_average">
            <option value="">Select Moving Average</option>
            <option value="sma">Simple Moving Average (SMA)</option>
            <option value="ema">Exponential Moving Average (EMA)</option>
            <option value="wma">Weighted Moving Average (WMA)</option>
            <option value="cma">Cumulative Moving Average (CMA)</option>
            <option value="hma">Hull Moving Average (HMA)</option>
            <option value="tma">Triangular Moving Average (TMA)</option>
            <option value="bollinger_bands">Bollinger Bands</option>
          </select>
        </div>

        <div class="form-group">
          <label for="window">Enter Window</label>
          <input type="number" id="window" name="window" placeholder="e.g., 20">
        </div>

        <div class="form-group">
          <label for="formula_1">Formula 1</label>
          <textarea id="formula_1" name="formula_1"
            placeholder="e.g., rolling_mean(close, 20) + sqrt(volume)"></textarea>
        </div>

        <div class="form-group">
          <label for="formula_2">Formula 2</label>
          <textarea id="formula_2" name="formula_2"
            placeholder="e.g., rolling_mean(close, 20) - sqrt(volume)"></textarea>
        </div>

        <button type="submit" id="submit_formula">ANALYZE</button>
        <div id="engine-error"></div>
      </form>

      <!-- === ALPHA BETA FORM === -->
      <form id="alphabeta-panel">
        <h2>ALPHA BETA</h2>

        <div class="form-group">
          <label for="ticker_alphabeta">Select Stock</label>
          <select id="ticker_alphabeta" name="ticker_alphabeta" required>
            <option value="AAPL">Apple (AAPL)</option>
            <option value="GOOGL">Alphabet (GOOGL)</option>
            <option value="MSFT">Microsoft (MSFT)</option>
            <option value="TSLA">Tesla (TSLA)</option>
            <option value="AMZN">Amazon (AMZN)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="benchmark">Select Benchmark</label>
          <select id="benchmark" name="benchmark" required>
            <option value="^GSPC">S&P 500 (^GSPC)</option>
            <option value="^NDX">NASDAQ 100 (^NDX)</option>
            <option value="^DJI">Dow Jones (^DJI)</option>
            <option value="^NSEI">NIFTY 50 (^NSEI)</option>
            <option value="^BSESN">SENSEX (^BSESN)</option>
            <option value="BTC-USD">Bitcoin (BTC-USD)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="interval">Select Interval</label>
          <select id="interval_alphabeta" name="interval" required>
            <option value="">Select interval</option>
            <option value="1d">1 day</option>
            <option value="1h">1 hour</option>
            <option value="15m">15 minutes</option>
            <option value="5m">5 minutes</option>
            <option value="2m">2 minutes</option>
            <option value="1m">1 minute</option>
            <option value="1wk">1 week</option>
            <option value="1mo">1 month</option>
          </select>
        </div>

        <button type="button" id="submit_alphabeta">ANALYZE</button>
        <div id="engine-error"></div>
      </form>
    </div>
  </div>



  <!-- LINK EXTERNAL JAVASCCRIPTS-->
  <script src="{{ url_for('static', filename='js/flux.js') }}"></script>
  <script src="{{ url_for('static', filename='js/alphabeta.js') }}"></script>
</body>

</html>